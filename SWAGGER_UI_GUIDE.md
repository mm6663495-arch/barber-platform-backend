# دليل استخدام Swagger UI للمبتدئين 🖥️

## 🎯 ما هو Swagger UI؟

Swagger UI هو واجهة ويب تساعدك على فهم واختبار APIs بسهولة. في منصة الحلاقة، يمكنك الوصول إليه عبر: `http://localhost:3000/api/docs`

---

## 🖼️ واجهة Swagger UI - شرح تفصيلي

### الجزء العلوي من الصفحة
```
┌─────────────────────────────────────────────────────────────┐
│ Barber Platform API                    🔓 Authorize  [🔧]  │
│ API documentation for Barber Platform Backend               │
│ Version 1.0                                                 │
└─────────────────────────────────────────────────────────────┘
```

**شرح العناصر:**
- **Barber Platform API:** عنوان API
- **🔓 Authorize:** زر تفعيل المصادقة (مهم جداً!)
- **[🔧]:** زر الإعدادات

### الأقسام الرئيسية
```
┌─────────────────────────────────────────────────────────────┐
│ 📁 Authentication                                           │
│ 📁 Users                                                    │
│ 📁 Salons                                                   │
│ 📁 Subscriptions                                            │
│ 📁 Payments                                                 │
│ 📁 Reviews                                                  │
│ 📁 Notifications                                            │
│ 📁 Admin                                                    │
│ 📁 Security                                                 │
└─────────────────────────────────────────────────────────────┘
```

---

## 🔧 كيفية استخدام كل قسم

### 1. 📁 Authentication (المصادقة)

#### POST /auth/login - تسجيل الدخول
```
┌─────────────────────────────────────────────────────────────┐
│ POST /auth/login                                            │
│ User authentication and authorization                       │
│                                                             │
│ 🔧 Try it out                                               │
│                                                             │
│ Request body:                                               │
│ {                                                           │
│   "email": "admin@barber.com",                             │
│   "password": "admin123"                                   │
│ }                                                           │
│                                                             │
│ ▶ Execute                                                   │
└─────────────────────────────────────────────────────────────┘
```

**خطوات الاستخدام:**
1. اضغط **Try it out**
2. أدخل البيانات في Request body
3. اضغط **Execute**
4. انسخ الـ accessToken من الاستجابة

---

### 2. 🔐 تفعيل المصادقة

#### زر Authorize
```
┌─────────────────────────────────────────────────────────────┐
│ Available authorizations                                   │
│                                                             │
│ Bearer (http, Bearer)                                      │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ Bearer YOUR_TOKEN_HERE                                  │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ [Authorize]  [Close]                                        │
└─────────────────────────────────────────────────────────────┘
```

**خطوات التفعيل:**
1. اضغط **Authorize**
2. أدخل: `Bearer YOUR_TOKEN`
3. اضغط **Authorize**
4. اضغط **Close**

---

### 3. 📁 Users (المستخدمون)

#### GET /users - عرض المستخدمين
```
┌─────────────────────────────────────────────────────────────┐
│ GET /users                                                  │
│ Get all users with optional filtering                      │
│ 🔒 Requires authentication                                 │
│                                                             │
│ 🔧 Try it out                                               │
│                                                             │
│ Parameters:                                                 │
│ • role (optional): ADMIN, SALON_OWNER, CUSTOMER           │
│ • page (optional): 1                                       │
│ • limit (optional): 10                                     │
│                                                             │
│ ▶ Execute                                                   │
└─────────────────────────────────────────────────────────────┘
```

**ما تعنيه الرموز:**
- 🔒 **Requires authentication:** يحتاج تسجيل دخول
- 🔧 **Try it out:** اضغط هنا لتفعيل النموذج
- ▶ **Execute:** اضغط هنا لتشغيل الطلب

---

### 4. 📁 Salons (الصالونات)

#### GET /salons - عرض الصالونات
```
┌─────────────────────────────────────────────────────────────┐
│ GET /salons                                                 │
│ Get all salons with optional filtering                     │
│ 🔓 No authentication required                              │
│                                                             │
│ 🔧 Try it out                                               │
│                                                             │
│ Parameters:                                                 │
│ • page (optional): 1                                       │
│ • limit (optional): 10                                     │
│ • search (optional): "search term"                         │
│ • minRating (optional): 4.0                                │
│                                                             │
│ ▶ Execute                                                   │
└─────────────────────────────────────────────────────────────┘
```

**ما تعنيه الرموز:**
- 🔓 **No authentication required:** لا يحتاج تسجيل دخول

---

## 📊 فهم الاستجابات

### استجابة ناجحة (200 OK)
```json
{
  "data": [
    {
      "id": 1,
      "name": "صالون الجمال الملكي",
      "address": "شارع الملك فهد، الرياض",
      "rating": 4.5,
      "isActive": true,
      "createdAt": "2024-01-01T10:00:00.000Z"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 10,
    "total": 25,
    "totalPages": 3
  }
}
```

### استجابة خطأ (401 Unauthorized)
```json
{
  "statusCode": 401,
  "message": "Unauthorized",
  "error": "Unauthorized"
}
```

---

## 🎯 نصائح للتنقل

### 1. استخدام البحث
- اضغط **Ctrl+F** للبحث في الصفحة
- ابحث عن endpoint معين (مثل: "users")

### 2. فهم الألوان
- 🟢 **أخضر:** عملية ناجحة
- 🔴 **أحمر:** خطأ
- 🟡 **أصفر:** تحذير
- 🔵 **أزرق:** معلومة

### 3. استخدام الفلاتر
- **role:** فلترة المستخدمين حسب الدور
- **status:** فلترة حسب الحالة
- **page/limit:** للتنقل بين الصفحات

---

## 🔍 قراءة التفاصيل

### معلومات Endpoint
```
┌─────────────────────────────────────────────────────────────┐
│ POST /salons                                                │
│ Create a new salon                                         │
│ 🔒 Requires authentication                                 │
│ 👑 Requires role: SALON_OWNER                             │
│                                                             │
│ Request body:                                               │
│ CreateSalonDto                                              │
└─────────────────────────────────────────────────────────────┘
```

**شرح الرموز:**
- 🔒 **Requires authentication:** يحتاج تسجيل دخول
- 👑 **Requires role:** يحتاج دور معين

### معلومات البيانات المطلوبة
```json
{
  "name": "string",           // مطلوب - اسم الصالون
  "address": "string",        // مطلوب - العنوان
  "latitude": "number",       // مطلوب - خط العرض
  "longitude": "number",      // مطلوب - خط الطول
  "description": "string?",   // اختياري - الوصف
  "workingHours": "object"    // اختياري - ساعات العمل
}
```

**شرح الرموز:**
- **string:** نص
- **number:** رقم
- **object:** كائن/قائمة
- **?:** اختياري
- **مطلوب:** يجب ملؤه

---

## 🚨 حل المشاكل الشائعة

### مشكلة: لا أرى البيانات
**الحلول:**
1. تأكد من تفعيل المصادقة
2. تأكد من استخدام endpoint صحيح
3. تحقق من معاملات البحث

### مشكلة: خطأ في المصادقة
**الحلول:**
1. تأكد من نسخ الـ token بشكل صحيح
2. تأكد من إضافة "Bearer " قبل الـ token
3. جرب تسجيل الدخول مرة أخرى

### مشكلة: صفحة لا تحمل
**الحلول:**
1. تأكد من تشغيل المشروع
2. تأكد من الرابط الصحيح
3. جرب تحديث الصفحة

---

## 📝 قائمة تحقق سريعة

### قبل البدء:
- [ ] المشروع يعمل
- [ ] Swagger UI مفتوح
- [ ] فهم الأقسام المختلفة

### عند التسجيل:
- [ ] استخدام بيانات صحيحة
- [ ] نسخ الـ token
- [ ] تفعيل المصادقة

### عند الاختبار:
- [ ] اختيار endpoint صحيح
- [ ] ملء البيانات المطلوبة
- [ ] قراءة الاستجابة

---

## 🎉 مبروك!

الآن أنت تعرف كيفية:
- ✅ التنقل في Swagger UI
- ✅ فهم الرموز والعلامات
- ✅ قراءة الاستجابات
- ✅ حل المشاكل الشائعة

**الخطوة التالية:** ابدأ بفحص الجداول باستخدام `BEGINNER_TABLE_TESTING_GUIDE.md`!

---

**💡 نصيحة:** احتفظ بهذا الدليل مفتوحاً أثناء الاختبار للمراجعة السريعة!
