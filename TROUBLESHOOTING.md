# ๐ง ุฏููู ุญู ูุดููุฉ Connection Refused

## ๐ ุงููุดููุฉ ุงูุญุงููุฉ
```
Error: SocketException: Connection refused (OS Error: Connection refused, errno = 111)
address = 192.168.6.2, port = 44916
```

---

## โ ุฎุทูุงุช ุงูุญู ุฎุทูุฉ ุจุฎุทูุฉ

### ุงูุฎุทูุฉ 1: ุงูุชุญูู ูู ุฃู ุงูุฎุงุฏู ูุนูู

#### ุฃ. ุงูุชุญ Terminal ูู ูุฌูุฏ ุงูุจุงู ุฅูุฏ:
```bash
cd barber-platform-backend
```

#### ุจ. ุดุบูู ุงูุฎุงุฏู:
```bash
npm run start:dev
```

#### ุฌ. ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ:
```
๐ Barber Platform Backend Started!
๐ Local:          http://localhost:3000
๐ Network:        http://192.168.x.x:3000
```

---

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู IP ุงูููุจููุชุฑ

#### ุฃ. ุนูู Windows:
```bash
ipconfig
```

#### ุจ. ุงุจุญุซ ุนู:
```
Wireless LAN adapter Wi-Fi:
   IPv4 Address. . . . . . . . . . . : 192.168.x.x
```

#### ุฌ. ุชุฃูุฏ ุฃู IP ุงูุตุญูุญ:
- ุฅุฐุง ูุงู IP ูุฎุชูู (ูุซู `192.168.1.100` ุฃู `192.168.0.5`)
- ุบููุฑ IP ูู `salon_main/lib/core/constants/app_constants.dart`:
```dart
static const String baseUrl = 'http://192.168.1.100:3000'; // ุงุณุชุฎุฏู IP ุงูุตุญูุญ
```

---

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ูู ุงููุชุตูุญ

#### ุฃ. ุงูุชุญ ูุชุตูุญ ุนูู ุงูููุจููุชุฑ ูุฌุฑูุจ:
```
http://localhost:3000/health
http://192.168.6.2:3000/health
http://localhost:3000/api/v1/auth/register
http://192.168.6.2:3000/api/v1/auth/register
```

#### ุจ. ุฅุฐุง ูู ุชุนูู:
- ุงูุฎุงุฏู ุบูุฑ ูุนูู โ ุงุฑุฌุน ููุฎุทูุฉ 1
- IP ุฎุงุทุฆ โ ุงุฑุฌุน ููุฎุทูุฉ 2

---

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ูู ุงููุงุชู

#### ุฃ. ุชุฃูุฏ ุฃู ุงููุงุชู ูุงูููุจููุชุฑ ุนูู ููุณ ุงูุดุจูุฉ Wi-Fi:
- **ูุฌุจ ุฃู ููููุง ุนูู ููุณ ุงูุดุจูุฉ!**
- ูุง ุชุณุชุฎุฏู ุจูุงูุงุช ุงููุงุชูุ ุงุณุชุฎุฏู Wi-Fi ููุท

#### ุจ. ุงูุชุญ ูุชุตูุญ ุนูู ุงููุงุชู ูุฌุฑูุจ:
```
http://192.168.6.2:3000/health
```

#### ุฌ. ุฅุฐุง ูู ูุนูู:
- ุชุฃูุฏ ุฃู ุงููุงุชู ูุงูููุจููุชุฑ ุนูู ููุณ ุงูุดุจูุฉ Wi-Fi
- ุชุฃูุฏ ุฃู IP ุตุญูุญ
- ุฌุฑูุจ ุฅููุงู ุฌุฏุงุฑ ุงูุญูุงูุฉ ูุคูุชุงู

---

### ุงูุฎุทูุฉ 5: ุงูุชุญูู ูู ุฌุฏุงุฑ ุงูุญูุงูุฉ

#### ุฃ. ุนูู Windows:
1. ุงูุชุญ "Windows Defender Firewall"
2. ุงุถุบุท "Allow an app or feature through Windows Defender Firewall"
3. ุชุฃูุฏ ุฃู Node.js ูุณููุญ ูู

#### ุจ. ุฌุฑูุจ ุฅููุงู ุฌุฏุงุฑ ุงูุญูุงูุฉ ูุคูุชุงู:
- ููุงุฎุชุจุงุฑ ููุท
- ูุง ุชุชุฑูู ูุทูุฃ ููุฃุจุฏ!

---

### ุงูุฎุทูุฉ 6: ุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุงูุชุดุฎูุต

#### ุฃ. ูู ูุฌูุฏ ุงูุจุงู ุฅูุฏ:
```bash
node test-server-connection.js
```

#### ุจ. ุณูุธูุฑ ุชูุฑูุฑ ุดุงูู ุนู ุญุงูุฉ ุงูุงุชุตุงู

---

## ๐ฏ ุงูุญููู ุงูุณุฑูุนุฉ

### ุงูุญู 1: ุงุณุชุฎุฏุงู IP ูุฎุชูู
ุฅุฐุง ูุงู IP ุงูููุจููุชุฑ ููุณ `192.168.6.2`:

**ูู**: `salon_main/lib/core/constants/app_constants.dart`
```dart
static const String baseUrl = 'http://YOUR_ACTUAL_IP:3000';
```

**ุฃูู ุชุฌุฏ IP ุงูุตุญูุญ:**
```bash
ipconfig  # ุนูู Windows
```

---

### ุงูุญู 2: ุงุณุชุฎุฏุงู localhost ุนูู Emulator ููุท

**ุฅุฐุง ููุช ุชุณุชุฎุฏู Android Emulator:**

**ูู**: `salon_main/lib/core/constants/app_constants.dart`
```dart
static const String baseUrl = 'http://localhost:3000';
```

ุงูููุฏ ุณูุญููู ุชููุงุฆูุงู ุฅูู `10.0.2.2` ุนูู Emulator.

---

### ุงูุญู 3: ุงุณุชุฎุฏุงู ngrok ููุงุฎุชุจุงุฑ ุงูุณุฑูุน

#### ุฃ. ุซุจูุช ngrok:
```bash
npm install -g ngrok
```

#### ุจ. ุดุบูู ngrok:
```bash
ngrok http 3000
```

#### ุฌ. ุงุณุชุฎุฏู ุงูู URL ุงูุฐู ูุนุทูู ngrok:
```dart
static const String baseUrl = 'https://xxxx-xxx-xxx-xxx.ngrok.io';
```

**ููุงุญุธุฉ**: ูุฐุง ููุงุฎุชุจุงุฑ ููุทุ ูุง ุชุณุชุฎุฏูู ูู ุงูุฅูุชุงุฌ!

---

## ๐ ุงูุชุญูู ูู ุงููุดููุฉ

### Checklist:
- [ ] ุงูุฎุงุฏู ูุนูู (npm run start:dev)
- [ ] IP ุงูููุจููุชุฑ ุตุญูุญ (ipconfig)
- [ ] IP ูู Flutter app ุตุญูุญ (app_constants.dart)
- [ ] ุงููุงุชู ูุงูููุจููุชุฑ ุนูู ููุณ Wi-Fi
- [ ] ุฌุฏุงุฑ ุงูุญูุงูุฉ ูุง ูุญุฌุจ ุงูุงุชุตุงู
- [ ] ุงูุฎุงุฏู ูุณุชูุน ุนูู `0.0.0.0` (ูู main.ts: `host: '0.0.0.0'`)

---

## ๐ก ูุตุงุฆุญ ุฅุถุงููุฉ

### 1. ุงุณุชุฎุฏู ูุชุตูุญ ุงููุงุชู ุฃููุงู:
ูุจู ุชุฌุฑุจุฉ ุงูุชุทุจููุ ุฌุฑูุจ ูุชุญ ุงูุฎุงุฏู ูู ูุชุตูุญ ุงููุงุชู:
```
http://192.168.6.2:3000/health
```

### 2. ุชุฃูุฏ ูู ุงููููุฐ:
ุงูุฎุงุฏู ูุฌุจ ุฃู ูุณุชูุน ุนูู ุงููููุฐ 3000. ุชุญูู ูู:
```typescript
// ูู main.ts ูุฌุจ ุฃู ูููู:
const port = process.env.PORT || 3000;
```

### 3. ุชุญูู ูู ุงูุณุฌูุงุช:
ุฑุงูุจ ุณุฌูุงุช ุงูุฎุงุฏู ุฃุซูุงุก ูุญุงููุฉ ุงูุงุชุตุงู ูู ุงููุงุชู:
```bash
npm run start:dev
```

---

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

1. **ุงุฎุชุจุฑ ูุน Postman ุฃู curl:**
```bash
curl http://192.168.6.2:3000/health
```

2. **ุชุญูู ูู ุณุฌูุงุช ุงูุฎุงุฏู:**
- ูู ุชุธูุฑ ุฃู ุทูุจุงุชุ
- ูู ููุงู ุฃุฎุทุงุกุ

3. **ุฌุฑูุจ ุงุณุชุฎุฏุงู ngrok:**
- ููุญุตูู ุนูู URL ุนุงู ูููู ุงููุตูู ุฅููู ูู ุฃู ููุงู

---

## โ ุจุนุฏ ุฅุตูุงุญ ุงููุดููุฉ

ุชุฃูุฏ ูู:
- [ ] ุงูุฎุงุฏู ูุนูู
- [ ] IP ุตุญูุญ
- [ ] ุงูุงุชุตุงู ูุนูู ูู ุงููุงุชู
- [ ] ุงูุชุทุจูู ูุฑุณู ุงูุทูุจุงุช ุจูุฌุงุญ

ุซู ุฌุฑูุจ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ูู ุงูุชุทุจูู!

